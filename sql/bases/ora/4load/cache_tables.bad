"TYPEB_CREATE_POINTS"|"Расписание отправки телеграмм"|"select typeb_addrs_id, stage_id, stage_id stage_name, id,        decode(time_offset, null, null, LPAD(TO_CHAR(TRUNC(-time_offset/60)),2,'0')||'-'||LPAD(TO_CHAR(MOD(-time_offset,60)),2,'0')) AS time_offset from typeb_create_points where typeb_addrs_id = :id_sel order by stage_id"||"BEGIN   insert into typeb_create_points(typeb_addrs_id, stage_id, time_offset, id)   values(:typeb_addrs_id, nvl(:stage_id, 0),          nvl2(:time_offset,-adm.check_trfer_sets_interval(:time_offset, 'TYPEB_CREATE_POINTS', 'time_offset', :sys_desk_lang), 0), id__seq.nextval);   hist.synchronize_history('typeb_create_points',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   update typeb_create_points   set stage_id = :stage_id,       time_offset = nvl2(:time_offset, -adm.check_trfer_sets_interval(:time_offset, 'TYPEB_CREATE_POINTS', 'time_offset', :sys_desk_lang), 0)   where id = :OLD_id;   hist.synchronize_history('typeb_create_points',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   delete from typeb_create_points   where id = :OLD_id;   hist.synchronize_history('typeb_create_points',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475121|570|570|570|570|0|1|0
"CITIES"|"Города"|"SELECT c.id,c.code,c.code_lat,c.country,c.name,c.name_lat,c.tz_region,c.pr_del,c.tid,        d.gmt_offset FROM cities c, date_time_zonespec d WHERE c.tz_region=d.id(+) AND d.pr_del(+)=0 ORDER BY c.code"|"SELECT c.id,c.code,c.code_lat,c.country,c.name,c.name_lat,c.tz_region,c.pr_del,c.tid,        d.gmt_offset FROM cities c, date_time_zonespec d WHERE c.tz_region=d.id(+) AND d.pr_del(+)=0 AND c.tid>:tid ORDER BY c.code"|"DECLARE   vid cities.id%TYPE; BEGIN   UPDATE cities   SET code_lat=:code_lat, country=:country,       name=:name, name_lat=:name_lat,       tz_region=:tz_region, tid=tid__seq.nextval, pr_del=0   WHERE code=:code AND pr_del<>0   RETURNING id INTO vid;   IF SQL%NOTFOUND THEN     SELECT id__seq.nextval INTO vid FROM dual;     INSERT INTO cities       (code,code_lat,country,name,name_lat,tz_region,        id,tid,tid_sync,pr_del)     VALUES       (:code,:code_lat,:country,:name,:name_lat,:tz_region,        vid,tid__seq.nextval,NULL,0);   END IF;   hist.synchronize_history('cities',vid,:SYS_user_descr,:SYS_desk_code);   adm.check_city_codes(vid,:code,:code_lat,:SYS_desk_lang); END;"|"BEGIN   UPDATE cities   SET code=:code, code_lat=:code_lat, country=:country,       name=:name, name_lat=:name_lat, tz_region=:tz_region,       tid=tid__seq.nextval   WHERE id=:OLD_id;   hist.synchronize_history('cities',:id,:SYS_user_descr,:SYS_desk_code);   adm.check_city_codes(:OLD_id,:code,:code_lat,:SYS_desk_lang); END;"|"DECLARE   row cities%ROWTYPE; BEGIN   SELECT * INTO row FROM cities WHERE id=:OLD_id AND pr_del=0 FOR UPDATE;   DELETE FROM cities WHERE id=:OLD_id;   INSERT INTO cities     (code,code_lat,country,name,name_lat,tz_region,      id,tid,tid_sync,pr_del)   VALUES     (row.code,row.code_lat,row.country,row.name,row.name_lat,row.tz_region,      row.id,tid__seq.nextval,row.tid_sync,1);   hist.synchronize_history('cities',row.id,:SYS_user_descr,:SYS_desk_code); EXCEPTION   WHEN NO_DATA_FOUND THEN NULL; END;"|1|"КОД"|681796900||800|800|800|1|1|1
"TYPEB_ADDRS_PNL_MARK"|"Адреса и опции телеграмм PNL/ADL для комм. рейсов"|"SELECT id,tlg_type,tlg_type AS tlg_short_name,        airline,flt_no,airp_dep,airp_arv,addr,pr_lat,crs,pr_mark_header,        basic_type,        adm.get_typeb_option(id, basic_type, 'FORWARDING') AS forwarding FROM typeb_addrs,typeb_types WHERE typeb_addrs.tlg_type=typeb_types.code AND pr_mark_flt=1 AND       typeb_types.basic_type='PNL' AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       ((pr_dep IS NULL OR pr_dep<>0) AND (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) OR        (pr_dep IS NULL OR pr_dep= 0) AND (adm.check_airp_access(airp_arv,:SYS_user_id)<>0 OR airp_arv IS NULL)) ORDER BY airline,DECODE(pr_dep,0,airp_arv,airp_dep),flt_no,basic_type,short_name"||"DECLARE   vid typeb_addrs.id%TYPE; BEGIN   adm.check_typeb_addrs(:tlg_type,:airline,:airline_view,:airp_dep,:airp_dep_view,:airp_arv,:airp_arv_view,:SYS_user_id,1);   INSERT INTO typeb_addrs(id,tlg_type,airline,flt_no,airp_dep,airp_arv,                           addr,pr_lat,crs,pr_mark_flt,pr_mark_header)   VALUES(id__seq.nextval,:tlg_type,:airline,:flt_no,:airp_dep,:airp_arv,          :addr,:pr_lat,:crs,1,:pr_mark_header) RETURNING id INTO vid;   adm.sync_PNL_options(vid, :basic_type, :forwarding, :SYS_user_descr, :SYS_desk_code);   hist.synchronize_history('typeb_addrs',vid,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_typeb_addrs(:OLD_tlg_type,:OLD_airline,:OLD_airline_view,:OLD_airp_dep,:OLD_airp_dep_view,:OLD_airp_arv,:OLD_airp_arv_view,:SYS_user_id,2);   adm.check_typeb_addrs(:tlg_type,:airline,:airline_view,:airp_dep,:airp_dep_view,:airp_arv,:airp_arv_view,:SYS_user_id,1);   UPDATE typeb_addrs   SET tlg_type=:tlg_type,airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,       airp_arv=:airp_arv,addr=:addr,pr_lat=:pr_lat, crs=:crs, pr_mark_header = :pr_mark_header   WHERE id=:OLD_id;   adm.sync_PNL_options(:OLD_id, :basic_type, :forwarding, :SYS_user_descr, :SYS_desk_code);   hist.synchronize_history('typeb_addrs',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_typeb_addrs(:OLD_tlg_type,:OLD_airline,:OLD_airline_view,:OLD_airp_dep,:OLD_airp_dep_view,:OLD_airp_arv,:OLD_airp_arv_view,:SYS_user_id,2);   adm.delete_create_points(:OLD_id, :SYS_user_descr, :SYS_desk_code);   adm.delete_typeb_options(:OLD_id, :SYS_user_descr, :SYS_desk_code);   DELETE FROM typeb_addrs WHERE id=:OLD_id;   hist.synchronize_history('typeb_addrs',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796473|570|570|570|570|0|1|0
"MISC_SET"|"Настройки рейсов разные"|"SELECT id,type AS type_code,type AS type_name,        airline,flt_no,airp_dep,pr_misc FROM misc_set WHERE adm.check_misc_set_access(misc_set.type,:SYS_user_id)<>0 AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY type_name,id"||"BEGIN   :type_code:=adm.check_misc_set_access(:type_code,:SYS_user_id,1);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO misc_set(id,type,airline,flt_no,airp_dep,pr_misc)   VALUES(id__seq.nextval,:type_code,:airline,:flt_no,:airp_dep,:pr_misc);   hist.synchronize_history('misc_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_type_code:=adm.check_misc_set_access(:OLD_type_code,:SYS_user_id,2);   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :type_code:=adm.check_misc_set_access(:type_code,:SYS_user_id,1);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE misc_set   SET type=:type_code,airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_misc=:pr_misc   WHERE id=:OLD_id;   hist.synchronize_history('misc_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_type_code:=adm.check_misc_set_access(:OLD_type_code,:SYS_user_id,2);   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM misc_set   WHERE id=:OLD_id;   hist.synchronize_history('misc_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796927|750|760|760|760|0|1|0
"AIRLINE_MISC_SET"|"Настройки рейсов разные для а/к"|"SELECT id,type AS type_code,type AS type_name,        airline,flt_no,airp_dep,pr_misc FROM misc_set WHERE airline=:airline AND       adm.check_misc_set_access(misc_set.type,:SYS_user_id)<>0 AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY type_name,id"||"BEGIN   :type_code:=adm.check_misc_set_access(:type_code,:SYS_user_id,1);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO misc_set(id,type,airline,flt_no,airp_dep,pr_misc)   VALUES(id__seq.nextval,:type_code,:airline,:flt_no,:airp_dep,:pr_misc);   hist.synchronize_history('misc_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_type_code:=adm.check_misc_set_access(:OLD_type_code,:SYS_user_id,2);   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :type_code:=adm.check_misc_set_access(:type_code,:SYS_user_id,1);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE misc_set   SET type=:type_code,airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_misc=:pr_misc   WHERE id=:OLD_id;   hist.synchronize_history('misc_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_type_code:=adm.check_misc_set_access(:OLD_type_code,:SYS_user_id,2);   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM misc_set   WHERE id=:OLD_id;   hist.synchronize_history('misc_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796928|750|760|760|760|0|1|0
"TYPEB_ORIGINATORS"|"Отправители выходных телеграмм"|"SELECT id,airline,airp_dep,tlg_type,tlg_type AS tlg_short_name,        first_date,last_date-1/86400 AS last_date,        addr,double_sign,descr,tid FROM typeb_originators WHERE pr_del=0 AND (last_date IS NULL OR last_date>=TRUNC(SYSDATE)) AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY id"|"SELECT id,airline,airp_dep,tlg_type,tlg_type AS tlg_short_name,        first_date,last_date-1/86400 AS last_date,        addr,double_sign,descr,pr_del,tid FROM typeb_originators WHERE (last_date IS NULL OR last_date>=TRUNC(SYSDATE)) AND tid>:tid AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY id"|"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   adm.add_originator(:id,:airline,:airp_dep,:tlg_type,:first_date,:last_date,:addr, :double_sign,:descr,:tid,:SYS_desk_lang,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   adm.modify_originator(:OLD_id,:last_date,:SYS_desk_lang,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   adm.delete_originator(:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475647|565|566|566|566|0|1|0
"BRD_WITH_REG_SET"|"Посадка при регистрации"|"SELECT id,airline,flt_no,airp_dep,hall,pr_misc FROM hall_set WHERE type=101 AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY id"||"BEGIN   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO hall_set(id,type,airline,flt_no,airp_dep,hall,pr_misc)   VALUES(id__seq.nextval,101,:airline,:flt_no,:airp_dep,:hall,:pr_misc);   hist.synchronize_history('hall_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE hall_set   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,hall=:hall,pr_misc=:pr_misc   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM hall_set   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796920|750|760|760|760|0|1|0
"AIRLINE_BRD_WITH_REG_SET"|"Посадка при регистрации а/к"|"SELECT id,airline,flt_no,airp_dep,hall,pr_misc FROM hall_set WHERE type=101 AND airline=:airline AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY id"||"BEGIN   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO hall_set(id,type,airline,flt_no,airp_dep,hall,pr_misc)   VALUES(id__seq.nextval,101,:airline,:flt_no,:airp_dep,:hall,:pr_misc);   hist.synchronize_history('hall_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE hall_set   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,hall=:hall,pr_misc=:pr_misc   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM hall_set   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796921|750|760|760|760|0|1|0
"TRIP_BRD_WITH_REG"|"Посадка при регистрации на рейс"|"SELECT point_id,hall,pr_misc FROM trip_hall WHERE point_id=:point_id AND type=101 ORDER BY hall"||"BEGIN   adm.check_hall_airp(:hall,:point_id);   INSERT INTO trip_hall(point_id,type,hall,pr_misc) VALUES(:point_id,101,:hall,:pr_misc); END;"|"BEGIN   adm.check_hall_airp(:hall,:point_id);   UPDATE trip_hall SET hall=:hall,pr_misc=:pr_misc   WHERE point_id=:OLD_point_id AND type=101 AND (hall=:OLD_hall OR hall IS NULL AND :OLD_hall IS NULL); END;"|"DELETE FROM trip_hall WHERE point_id=:OLD_point_id AND type=101 AND (hall=:OLD_hall OR hall IS NULL AND :OLD_hall IS NULL)"|1|"РЕЙ"|681796922|240|250|250|250|0|1|0
"EXAM_WITH_BRD_SET"|"Досмотр при посадке"|"SELECT id,airline,flt_no,airp_dep,hall,pr_misc FROM hall_set WHERE type=102 AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY id"||"BEGIN   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO hall_set(id,type,airline,flt_no,airp_dep,hall,pr_misc)   VALUES(id__seq.nextval,102,:airline,:flt_no,:airp_dep,:hall,:pr_misc);   hist.synchronize_history('hall_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE hall_set   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,hall=:hall,pr_misc=:pr_misc   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM hall_set   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796923|750|760|760|760|0|1|0
"AIRLINE_EXAM_WITH_BRD_SET"|"Досмотр при посадке а/к"|"SELECT id,airline,flt_no,airp_dep,hall,pr_misc FROM hall_set WHERE type=102 AND airline=:airline AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY id"||"BEGIN   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO hall_set(id,type,airline,flt_no,airp_dep,hall,pr_misc)   VALUES(id__seq.nextval,102,:airline,:flt_no,:airp_dep,:hall,:pr_misc);   hist.synchronize_history('hall_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airp_dep:=adm.check_hall_airp(:hall,:airp_dep);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE hall_set   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,hall=:hall,pr_misc=:pr_misc   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM hall_set   WHERE id=:OLD_id;   hist.synchronize_history('hall_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681796924|750|760|760|760|0|1|0
"ROT"|"Маршрутизаторы телеграмм (ROT)"|"SELECT canon_name,ip_address,ip_port,id FROM rot WHERE own_canon_name=:SYS_canon_name ORDER BY canon_name"||"BEGIN   adm.check_canon_name(:canon_name,'ROT','CANON_NAME',:SYS_desk_lang);   INSERT INTO rot(canon_name,own_canon_name,ip_address,ip_port,id)   VALUES(:canon_name,:SYS_canon_name,:ip_address,:ip_port,id__seq.nextval);   hist.synchronize_history('rot',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_canon_name(:canon_name,'ROT','CANON_NAME',:SYS_desk_lang);   UPDATE rot SET ip_address=:ip_address,ip_port=:ip_port,canon_name=:canon_name   WHERE canon_name=:OLD_canon_name AND own_canon_name=:SYS_canon_name;   hist.synchronize_history('rot',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM rot WHERE canon_name=:OLD_canon_name AND own_canon_name=:SYS_canon_name;   hist.synchronize_history('rot',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475046|532|532|532|532|0|1|0
"TRIP_EXAM_WITH_BRD"|"Досмотр при посадке на рейс"|"SELECT point_id,hall,pr_misc FROM trip_hall WHERE point_id=:point_id AND type=102 ORDER BY hall"||"BEGIN   adm.check_hall_airp(:hall,:point_id);   INSERT INTO trip_hall(point_id,type,hall,pr_misc) VALUES(:point_id,102,:hall,:pr_misc); END;"|"BEGIN   adm.check_hall_airp(:hall,:point_id);   UPDATE trip_hall SET hall=:hall,pr_misc=:pr_misc   WHERE point_id=:OLD_point_id AND type=102 AND (hall=:OLD_hall OR hall IS NULL AND :OLD_hall IS NULL); END;"|"DELETE FROM trip_hall WHERE point_id=:OLD_point_id AND type=102 AND (hall=:OLD_hall OR hall IS NULL AND :OLD_hall IS NULL)"|1|"РЕЙ"|681796925|240|250|250|250|0|1|0
"FILE_TYPES"|"Типы данных обмена"|"SELECT code,name FROM file_types WHERE code NOT IN ('BSM', 'HTTP_TYPEB') ORDER BY code"|||||1|"СИС"|681475054|575||||0|1|0
"AGENCIES"|"Агентства"|"SELECT code,code_lat,name,name_lat,descr,descr_lat,id FROM agencies ORDER BY code"||"BEGIN   IF LENGTH(:code)<>5 OR system.is_upp_let_dig(:code)=0 THEN     system.raise_user_exception('MSG.AGENCY_CONSISTS_OF_5_LET_DIG'); END IF;   IF :code_lat IS NOT NULL AND (LENGTH(:code_lat)<>5 OR system.is_upp_let_dig(:code_lat)=0) THEN     system.raise_user_exception('MSG.AGENCY_CONSISTS_OF_5_LET_DIG'); END IF;   INSERT INTO agencies(code,code_lat,name,name_lat,descr,descr_lat,id)   VALUES(:code,:code_lat,:name,:name_lat,:descr,:descr_lat,id__seq.nextval);   hist.synchronize_history('agencies',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   IF LENGTH(:code)<>5 OR system.is_upp_let_dig(:code)=0 THEN     system.raise_user_exception('MSG.AGENCY_CONSISTS_OF_5_LET_DIG'); END IF;   IF LENGTH(:code_lat)<>5 OR system.is_upp_let_dig(:code_lat)=0 THEN     system.raise_user_exception('MSG.AGENCY_CONSISTS_OF_5_LET_DIG'); END IF;   UPDATE agencies   SET code=:code,code_lat=:code_lat,name=:name,name_lat=:name_lat,descr=:descr,descr_lat=:descr_lat   WHERE code=:OLD_code;   hist.synchronize_history('agencies',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM agencies WHERE code=:OLD_code;   hist.synchronize_history('agencies',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"ДСТ"|681475055|795|795|795|795|0|1|0
"SALE_POINTS"|"Пункты продаж"|"SELECT code,validator,agency,city,descr,descr_lat,phone,id FROM sale_points ORDER BY code"||"BEGIN   IF LENGTH(:code)<>8 OR system.is_upp_let_dig(:code)=0 THEN     system.raise_user_exception('MSG.SALE_POINT_CONSISTS_OF_8_LET_DIG'); END IF;   INSERT INTO sale_points(code,validator,agency,city,descr,descr_lat,phone,forms,pr_permit,id)   VALUES(:code,:validator,:agency,:city,:descr,:descr_lat,:phone,NULL,1,id__seq.nextval);   hist.synchronize_history('sale_points',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   IF LENGTH(:code)<>8 OR system.is_upp_let_dig(:code)=0 THEN     system.raise_user_exception('MSG.SALE_POINT_CONSISTS_OF_8_LET_DIG'); END IF;   UPDATE sale_points SET code=:code,validator=:validator,agency=:agency,city=:city,                          descr=:descr,descr_lat=:descr_lat,phone=:phone   WHERE code=:OLD_code AND validator=:old_validator;   hist.synchronize_history('sale_points',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM sale_points WHERE code=:OLD_code AND validator=:old_validator;   hist.synchronize_history('sale_points',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"ДСТ"|681475056|795|795|795|795|0|1|0
"ET_ADDR_SET"|"Адреса СЭБ/СЭД"|"SELECT id,airline,flt_no,edi_addr,edi_own_addr FROM et_addr_set WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 ORDER BY airline,flt_no"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :edi_addr:=adm.check_edi_addr(:edi_addr);   :edi_own_addr:=adm.check_edi_addr(:edi_own_addr);   INSERT INTO et_addr_set(id,airline,flt_no,edi_addr,edi_own_addr)   VALUES(id__seq.nextval,:airline,:flt_no,:edi_addr,:edi_own_addr);   hist.synchronize_history('et_addr_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :edi_addr:=adm.check_edi_addr(:edi_addr);   :edi_own_addr:=adm.check_edi_addr(:edi_own_addr);   UPDATE et_addr_set   SET airline=:airline,flt_no=:flt_no,edi_addr=:edi_addr,edi_own_addr=:edi_own_addr   WHERE id=:OLD_id;   hist.synchronize_history('et_addr_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   DELETE FROM et_addr_set   WHERE id=:OLD_id;   hist.synchronize_history('et_addr_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475052|575|575|575|575|0|1|0
"DCS_ADDR_SET"|"Адреса систем регистрации"|"SELECT id,airline,flt_no,edi_addr,edi_own_addr FROM dcs_addr_set WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 ORDER BY airline,flt_no"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :edi_addr:=adm.check_edi_addr(:edi_addr);   :edi_own_addr:=adm.check_edi_addr(:edi_own_addr);   INSERT INTO dcs_addr_set(id,airline,flt_no,edi_addr,edi_own_addr)   VALUES(id__seq.nextval,:airline,:flt_no,:edi_addr,:edi_own_addr);   hist.synchronize_history('dcs_addr_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :edi_addr:=adm.check_edi_addr(:edi_addr);   :edi_own_addr:=adm.check_edi_addr(:edi_own_addr);   UPDATE dcs_addr_set   SET airline=:airline,flt_no=:flt_no,edi_addr=:edi_addr,edi_own_addr=:edi_own_addr   WHERE id=:OLD_id;   hist.synchronize_history('dcs_addr_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   DELETE FROM dcs_addr_set   WHERE id=:OLD_id;   hist.synchronize_history('dcs_addr_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475053|575|575|575|575|0|1|0
"SALE_DESKS"|"Пульты"|"SELECT sale_desks.code, sale_point, validator, currency, sale_desks.pr_denial, desks.id AS desks_id, sale_desks.id AS sale_desks_id FROM desks,sale_desks WHERE desks.code(+)=sale_desks.code ORDER BY sale_desks.code"||"BEGIN   INSERT INTO sale_desks(id, code, sale_point, validator, pr_denial)   VALUES(id__seq.nextval, :code, :sale_point, :validator, :pr_denial);   UPDATE desks SET currency=:currency WHERE code=:code;   hist.synchronize_history('desks',:desks_id,:SYS_user_descr,:SYS_desk_code);   hist.synchronize_history('sale_desks',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   UPDATE sale_desks   SET code=:code, sale_point=:sale_point, validator=:validator, pr_denial=:pr_denial   WHERE code=:OLD_code and sale_point=:OLD_sale_point and validator=:OLD_validator;   UPDATE desks SET currency=:currency WHERE code=:code;   hist.synchronize_history('desks',:desks_id,:SYS_user_descr,:SYS_desk_code);   hist.synchronize_history('sale_desks',:sale_desks_id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM sale_desks WHERE code=:OLD_code and sale_point=:OLD_sale_point and validator=:OLD_validator;   hist.synchronize_history('sale_desks',:OLD_sale_desks_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"ДСТ"|681475057|795|795|795|795|0|1|0
"OPERATORS"|"Кассиры"|"SELECT login,private_num,agency,validator,descr,pr_denial,id FROM operators ORDER BY login"||"BEGIN   INSERT INTO operators(login,private_num,agency,validator,descr,pr_denial,id)   VALUES(:login,:private_num,:agency,:validator,:descr,:pr_denial,id__seq.nextval);   hist.synchronize_history('operators',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   UPDATE operators   SET login=:login,private_num=:private_num,agency=:agency,validator=:validator,descr=:descr,pr_denial=:pr_denial   WHERE login=:OLD_login AND validator=:old_validator;   hist.synchronize_history('operators',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM operators WHERE login=:OLD_login AND validator=:old_validator;   hist.synchronize_history('operators',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"ДСТ"|681475058|795|795|795|795|0|1|0
"DATE_TIME_ZONESPEC"|"Спецификации временных зон"|"SELECT id, country, std_abbr, std_name, dst_abbr, dst_name, gmt_offset,        dst_adjustment, dst_start_date_rule, start_time, dst_end_date_rule, end_time, tid FROM date_time_zonespec WHERE pr_del=0 ORDER BY id"|||"UPDATE date_time_zonespec SET country = :country WHERE id = :OLD_id"||1|"КОД"|681475061|||845||0|1|0
"CODESHARE_SETS"|"Расписание и настройки код-шера"|"SELECT id,airline_oper,flt_no_oper,airp_dep,airline_mark,flt_no_mark,       pr_mark_norms,pr_mark_bp,pr_mark_rpt,days,first_date,last_date-1/86400 AS last_date,tid,        0 AS pr_denial FROM codeshare_sets WHERE pr_del=0 AND       (last_date IS NULL OR last_date>=TRUNC(system.UTCSYSDATE)-3) AND       (adm.check_airline_access(airline_oper,:SYS_user_id)<>0 OR        adm.check_airline_access(airline_mark,:SYS_user_id)<>0) AND       adm.check_airp_access(airp_dep,:SYS_user_id)<>0 ORDER BY airline_oper,flt_no_oper,airp_dep,first_date"||"BEGIN   adm.check_airline_access(:airline_oper,:airline_oper_view,:airline_mark,:airline_mark_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   adm.add_codeshare_set(:id,:airline_oper,:flt_no_oper,:airp_dep,:airline_mark,:flt_no_mark,                         :pr_mark_norms,:pr_mark_bp,:pr_mark_rpt,:days,:first_date,:last_date,                         :now_local,:tid,:pr_denial,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_airline_access(:OLD_airline_oper,:OLD_airline_oper_view,:OLD_airline_mark,:OLD_airline_mark_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   adm.modify_codeshare_set(:OLD_id,:last_date,:now_local,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_airline_access(:OLD_airline_oper,:OLD_airline_oper_view,:OLD_airline_mark,:OLD_airline_mark_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   adm.delete_codeshare_set(:OLD_id,:now_local,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475062|763|764|764|764|0|1|0
"CRYPT_SETS"|"Настройки шифрования пультов"|"SELECT id,desk_grp_id,desk,pr_crypt,desk_grp_id descr FROM crypt_sets WHERE (desk IS NOT NULL AND adm.check_desk_view_access(desk,:SYS_user_id)<>0 OR        desk IS NULL     AND adm.check_desk_grp_view_access(desk_grp_id,:SYS_user_id)<>0) ORDER BY descr"||"BEGIN   :desk_grp_id:=adm.check_desk_grp_id(:desk,:desk_grp_id);   IF :desk IS NULL THEN     :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   ELSE     :desk:=adm.check_desk_access(:desk,:SYS_user_id,1);   END IF;   INSERT INTO crypt_sets(id,desk_grp_id,desk,pr_crypt)   VALUES(id__seq.nextval,:desk_grp_id,:desk,:pr_crypt);   hist.synchronize_history('crypt_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   IF :OLD_desk IS NOT NULL THEN     :OLD_desk:=adm.check_desk_access(:OLD_desk,:SYS_user_id,2);   END IF;   :desk_grp_id:=adm.check_desk_grp_id(:desk,:desk_grp_id);   IF :desk IS NULL THEN     :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   ELSE     :desk:=adm.check_desk_access(:desk,:SYS_user_id,1);   END IF;   UPDATE crypt_sets   SET desk_grp_id=:desk_grp_id, desk=:desk, pr_crypt=:pr_crypt   WHERE id=:OLD_id;   hist.synchronize_history('crypt_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   IF :OLD_desk IS NOT NULL THEN     :OLD_desk:=adm.check_desk_access(:OLD_desk,:SYS_user_id,2);   END IF;   DELETE FROM crypt_sets WHERE id=:OLD_id;   hist.synchronize_history('crypt_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475063|910|910|910|910|0|1|0
"CRYPT_REQ_DATA"|"Данные для запросов на сертификат"|"SELECT id,desk_grp_id,desk,        country,state,crypt_req_data.city,organization,organizational_unit,title,user_name,email,        key_algo,keyslength,pr_denial,desk_grp_id descr FROM crypt_req_data WHERE (desk IS NOT NULL AND adm.check_desk_view_access(desk,:SYS_user_id)<>0 OR        desk IS NULL     AND adm.check_desk_grp_view_access(desk_grp_id,:SYS_user_id)<>0) ORDER BY descr"||"BEGIN   :desk_grp_id:=adm.check_desk_grp_id(:desk,:desk_grp_id);   IF :desk IS NULL THEN     :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   ELSE     :desk:=adm.check_desk_access(:desk,:SYS_user_id,1);   END IF;   INSERT INTO crypt_req_data     (id,desk_grp_id,desk,      country,state,city,organization,organizational_unit,title,user_name,email,      key_algo,keyslength,pr_denial)   VALUES(id__seq.nextval,:desk_grp_id,:desk,          :country,:state,:city,:organization,:organizational_unit,:title,:user_name,:email,          NULL,NULL,:pr_denial);   hist.synchronize_history('crypt_req_data',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   IF :OLD_desk IS NOT NULL THEN     :OLD_desk:=adm.check_desk_access(:OLD_desk,:SYS_user_id,2);   END IF;   :desk_grp_id:=adm.check_desk_grp_id(:desk,:desk_grp_id);   IF :desk IS NULL THEN     :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   ELSE     :desk:=adm.check_desk_access(:desk,:SYS_user_id,1);   END IF;   UPDATE crypt_req_data   SET desk_grp_id=:desk_grp_id, desk=:desk,       country=:country, state=:state, city=:city, organization=:organization,       organizational_unit=:organizational_unit, title=:title, user_name=:user_name, email=:email,       key_algo=NULL, keyslength=NULL, pr_denial=:pr_denial   WHERE id=:OLD_id;   hist.synchronize_history('crypt_req_data',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   IF :OLD_desk IS NOT NULL THEN     :OLD_desk:=adm.check_desk_access(:OLD_desk,:SYS_user_id,2);   END IF;   DELETE FROM crypt_req_data WHERE id=:OLD_id;   hist.synchronize_history('crypt_req_data',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475064|900|900|900|900|0|1|0
"WEB_CKIN_SETS"|"Web-регистрация"|"SELECT id,airline,airp_dep,flt_no,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage FROM ckin_client_sets WHERE client_type='WEB' AND desk_grp_id IS NULL AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY airp_dep,airline,id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO ckin_client_sets(id,client_type,desk_grp_id,flt_no,airline,airp_dep,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage)   VALUES(id__seq.nextval,'WEB',NULL,:flt_no,:airline,:airp_dep,:pr_permit,0,:pr_tckin,:pr_upd_stage);   hist.synchronize_history('ckin_client_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE ckin_client_sets   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_permit=:pr_permit,       pr_waitlist=:pr_waitlist,pr_tckin=:pr_tckin,pr_upd_stage=:pr_upd_stage   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM ckin_client_sets   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475068|763|764|764|764|0|1|0
"AIRLINE_WEB_CKIN_SETS"|"Web-регистрация а/к"|"SELECT id,airline,airp_dep,flt_no,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage FROM ckin_client_sets WHERE client_type='WEB' AND desk_grp_id IS NULL AND airline=:airline AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY airp_dep,airline,id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO ckin_client_sets(id,client_type,desk_grp_id,flt_no,airline,airp_dep,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage)   VALUES(id__seq.nextval,'WEB',NULL,:flt_no,:airline,:airp_dep,:pr_permit,0,:pr_tckin,:pr_upd_stage);   hist.synchronize_history('ckin_client_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE ckin_client_sets   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_permit=:pr_permit,       pr_waitlist=:pr_waitlist,pr_tckin=:pr_tckin,pr_upd_stage=:pr_upd_stage   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM ckin_client_sets   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475069|763|764|764|764|0|1|0
"TRIP_WEB_CKIN"|"Web-регистрация на рейсе"|"SELECT point_id,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage FROM trip_ckin_client WHERE point_id=:point_id AND client_type='WEB' AND desk_grp_id IS NULL"|||"UPDATE trip_ckin_client SET pr_permit=:pr_permit,pr_waitlist=:pr_waitlist,                             pr_tckin=:pr_tckin,pr_upd_stage=:pr_upd_stage WHERE point_id=:OLD_point_id AND client_type='WEB' AND desk_grp_id IS NULL"||1|"РЕЙ"|681475070|240|250|250|250|0|1|0
"COMP_SUBCLS_SETS"|"Настройка подклассов для рассадки"|"SELECT airline,subclass,rem,id FROM comp_subcls_sets WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 ORDER BY airline,rem,subclass"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   INSERT INTO comp_subcls_sets(airline,subclass,rem,id)   VALUES(:airline,:subclass,:rem,id__seq.nextval);   hist.synchronize_history('comp_subcls_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   UPDATE comp_subcls_sets   SET airline=:airline,subclass=:subclass,rem=:rem   WHERE airline=:OLD_airline AND subclass=:OLD_subclass;   hist.synchronize_history('comp_subcls_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   DELETE FROM comp_subcls_sets   WHERE airline=:OLD_airline AND subclass=:OLD_subclass;   hist.synchronize_history('comp_subcls_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475065|845|845|845|845|0|1|0
"KIOSK_CKIN_SETS"|"Киоски саморегистрации"|"SELECT id,airline,airp_dep,flt_no,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage,        desk_grp_id, desk_grp_id AS desk_grp_view FROM ckin_client_sets WHERE client_type='KIOSK' AND desk_grp_id IS NOT NULL AND       (adm.check_airline_access(ckin_client_sets.airline,:SYS_user_id)<>0 OR ckin_client_sets.airline IS NULL) AND       (adm.check_airp_access(ckin_client_sets.airp_dep,:SYS_user_id)<>0 OR ckin_client_sets.airp_dep IS NULL) AND       (adm.check_desk_grp_view_access(desk_grp_id,:SYS_user_id)<>0 OR desk_grp_id IS NULL) ORDER BY airp_dep,airline,desk_grp_view,ckin_client_sets.id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   INSERT INTO ckin_client_sets(id,client_type,desk_grp_id,flt_no,airline,airp_dep,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage)   VALUES(id__seq.nextval,'KIOSK',:desk_grp_id,:flt_no,:airline,:airp_dep,:pr_permit,0,:pr_tckin,:pr_upd_stage);   hist.synchronize_history('ckin_client_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   UPDATE ckin_client_sets   SET desk_grp_id=:desk_grp_id,airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_permit=:pr_permit,       pr_waitlist=:pr_waitlist,pr_tckin=:pr_tckin,pr_upd_stage=:pr_upd_stage   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   DELETE FROM ckin_client_sets   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475073|763|764|764|764|0|1|0
"AIRLINE_KIOSK_CKIN_SETS"|"Киоски саморегистрации а/к"|"SELECT id,airline,airp_dep,flt_no,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage,        desk_grp_id, desk_grp_id AS desk_grp_view FROM ckin_client_sets WHERE client_type='KIOSK' AND desk_grp_id IS NOT NULL AND ckin_client_sets.airline=:airline AND       (adm.check_airline_access(ckin_client_sets.airline,:SYS_user_id)<>0 OR ckin_client_sets.airline IS NULL) AND       (adm.check_airp_access(ckin_client_sets.airp_dep,:SYS_user_id)<>0 OR ckin_client_sets.airp_dep IS NULL) AND       (adm.check_desk_grp_view_access(desk_grp_id,:SYS_user_id)<>0 OR desk_grp_id IS NULL) ORDER BY airp_dep,airline,desk_grp_view,ckin_client_sets.id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   INSERT INTO ckin_client_sets(id,client_type,desk_grp_id,flt_no,airline,airp_dep,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage)   VALUES(id__seq.nextval,'KIOSK',:desk_grp_id,:flt_no,:airline,:airp_dep,:pr_permit,0,:pr_tckin,:pr_upd_stage);   hist.synchronize_history('ckin_client_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   UPDATE ckin_client_sets   SET desk_grp_id=:desk_grp_id,airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_permit=:pr_permit,       pr_waitlist=:pr_waitlist,pr_tckin=:pr_tckin,pr_upd_stage=:pr_upd_stage   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   DELETE FROM ckin_client_sets   WHERE id=:OLD_id;   hist.synchronize_history('ckin_client_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475074|763|764|764|764|0|1|0
"TRIP_KIOSK_CKIN"|"Киоски саморегистрации на рейсе"|"SELECT point_id,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage,        desk_grp_id, desk_grp_id AS desk_grp_view FROM trip_ckin_client WHERE point_id=:point_id AND client_type='KIOSK' AND desk_grp_id IS NOT NULL AND       (adm.check_desk_grp_view_access(desk_grp_id,:SYS_user_id)<>0 OR desk_grp_id IS NULL) ORDER BY desk_grp_view"||"INSERT INTO trip_ckin_client(point_id,client_type,pr_permit,pr_waitlist,pr_tckin,pr_upd_stage,desk_grp_id) VALUES(:point_id,'KIOSK',:pr_permit,0,:pr_tckin,:pr_upd_stage,:desk_grp_id)"|"UPDATE trip_ckin_client SET pr_permit=:pr_permit,pr_waitlist=:pr_waitlist,                             pr_tckin=:pr_tckin,pr_upd_stage=:pr_upd_stage,desk_grp_id=:desk_grp_id WHERE point_id=:OLD_point_id AND client_type='KIOSK' AND desk_grp_id=:OLD_desk_grp_id"|"DELETE FROM trip_ckin_client WHERE point_id=:OLD_point_id AND client_type='KIOSK' AND desk_grp_id=:OLD_desk_grp_id"|1|"РЕЙ"|681475075|240|250|250|250|0|1|0
"APIS_SETS"|"Настройка APIS"|"SELECT id,airline,country_dep,country_arv,format,dir,edi_addr,edi_own_addr,pr_denial FROM apis_sets WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 ORDER BY airline,country_dep,country_arv,format"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   adm.check_apis_sets(:airline,:country_dep,:country_arv,:format,:edi_addr,:edi_own_addr,:SYS_desk_lang);   INSERT INTO apis_sets(id,airline,country_dep,country_arv,format,dir,edi_addr,edi_own_addr,pr_denial)   VALUES(id__seq.nextval,:airline,:country_dep,:country_arv,:format,:dir,:edi_addr,:edi_own_addr,:pr_denial);   hist.synchronize_history('apis_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   adm.check_apis_sets(:airline,:country_dep,:country_arv,:format,:edi_addr,:edi_own_addr,:SYS_desk_lang);   UPDATE apis_sets   SET airline=:airline,country_dep=:country_dep,country_arv=:country_arv,format=:format,dir=:dir,       edi_addr=:edi_addr,edi_own_addr=:edi_own_addr,pr_denial=:pr_denial   WHERE id=:OLD_id;   hist.synchronize_history('apis_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   DELETE FROM apis_sets   WHERE id=:OLD_id;   hist.synchronize_history('apis_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475077|577|577|577|577|0|1|0
"AIRLINE_OFFICES"|"Представительства авиакомпаний"|"SELECT id, airline, country, airp, contact_name, phone, fax, to_apis FROM airline_offices WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 AND       (adm.check_airp_access(airp,:SYS_user_id)<>0 OR airp IS NULL) ORDER BY airline, country, airp"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp:=adm.check_airp_access(:airp,:airp_view,:SYS_user_id,1);   adm.modify_airline_offices(NULL, :airline, :country, :airp, :contact_name, :phone, :fax, :to_apis,   :SYS_desk_lang, :SYS_user_descr, :SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp:=adm.check_airp_access(:OLD_airp,:OLD_airp_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp:=adm.check_airp_access(:airp,:airp_view,:SYS_user_id,1);   adm.modify_airline_offices(:OLD_id, :airline, :country, :airp, :contact_name, :phone, :fax, :to_apis,   :SYS_desk_lang, :SYS_user_descr, :SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp:=adm.check_airp_access(:OLD_airp,:OLD_airp_view,:SYS_user_id,2);   DELETE FROM airline_offices   WHERE id=:OLD_id;   hist.synchronize_history('airline_offices',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475078|577|577|577|577|0|1|0
"PAID_CKIN_SETS"|"Платная регистрация"|"SELECT id,airline,airp_dep,flt_no,pr_permit,prot_timeout FROM paid_ckin_sets WHERE (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY airp_dep,airline,id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO paid_ckin_sets(id,flt_no,airline,airp_dep,pr_permit,prot_timeout)   VALUES(id__seq.nextval,:flt_no,:airline,:airp_dep,:pr_permit,:prot_timeout);   hist.synchronize_history('paid_ckin_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE paid_ckin_sets   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_permit=:pr_permit,       prot_timeout=:prot_timeout   WHERE id=:OLD_id;   hist.synchronize_history('paid_ckin_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM paid_ckin_sets   WHERE id=:OLD_id;   hist.synchronize_history('paid_ckin_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475079|763|764|764|764|0|1|0
"AIRLINE_PAID_CKIN_SETS"|"Платная регистрация а/к"|"SELECT id,airline,airp_dep,flt_no,pr_permit,prot_timeout FROM paid_ckin_sets WHERE airline=:airline AND       (adm.check_airline_access(airline,:SYS_user_id)<>0 OR airline IS NULL) AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY airp_dep,airline,id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO paid_ckin_sets(id,flt_no,airline,airp_dep,pr_permit,prot_timeout)   VALUES(id__seq.nextval,:flt_no,:airline,:airp_dep,:pr_permit,:prot_timeout);   hist.synchronize_history('paid_ckin_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE paid_ckin_sets   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,pr_permit=:pr_permit,       prot_timeout=:prot_timeout   WHERE id=:OLD_id;   hist.synchronize_history('paid_ckin_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM paid_ckin_sets   WHERE id=:OLD_id;   hist.synchronize_history('paid_ckin_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475080|763|764|764|764|0|1|0
"TRIP_PAID_CKIN"|"Платная регистрация на рейс"|"SELECT point_id,pr_permit,prot_timeout FROM trip_paid_ckin WHERE point_id=:point_id"||"INSERT INTO trip_paid_ckin(point_id,pr_permit,prot_timeout) VALUES(:point_id,:pr_permit,:prot_timeout)"|"UPDATE trip_paid_ckin SET pr_permit=:pr_permit, prot_timeout=:prot_timeout WHERE point_id=:OLD_point_id"||1|"РЕЙ"|681475081|240|250|250|250|0|1|0
"TRIP_LIST_DAYS"|"Настройка списков рейсов относительно текущей даты"|"SELECT role_id, role_id AS role_name,        shift_down, shift_up, id FROM trip_list_days WHERE adm.check_role_view_access(role_id,:SYS_user_id)<>0 ORDER BY role_name"||"BEGIN   :role_id:=adm.check_role_access(:role_id,:SYS_user_id,1);   IF :shift_down>:shift_up THEN system.raise_user_exception('Неверный диапазон. Верхнее смещение меньше нижнего'); END IF;   IF :shift_up-:shift_down>=10 THEN system.raise_user_exception('Диапазон не может превышать 10 дней'); END IF;   INSERT INTO trip_list_days(role_id,shift_down,shift_up,id)   VALUES(:role_id,:shift_down,:shift_up,id__seq.nextval);   hist.synchronize_history('trip_list_days',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_role_id:=adm.check_role_access(:OLD_role_id,:SYS_user_id,2);   :role_id:=adm.check_role_access(:role_id,:SYS_user_id,1);   IF :shift_down>:shift_up THEN system.raise_user_exception('Неверный диапазон. Верхнее смещение меньше нижнего'); END IF;   IF :shift_up-:shift_down>=10 THEN system.raise_user_exception('Диапазон не может превышать 10 дней'); END IF;   UPDATE trip_list_days   SET role_id=:role_id, shift_down=:shift_down, shift_up=:shift_up   WHERE role_id=:OLD_role_id;   hist.synchronize_history('trip_list_days',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_role_id:=adm.check_role_access(:OLD_role_id,:SYS_user_id,2);   DELETE FROM  trip_list_days   WHERE role_id=:OLD_role_id;   hist.synchronize_history('trip_list_days',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475085|770|771|771|771|0|1|0
"PAX_DOC_COUNTRIES"|"Трехбуквенные коды государств для пассажирских документов"|"SELECT id,code,code code_lat,name,name_lat,country,pr_del,tid FROM pax_doc_countries ORDER BY code"|"SELECT id,code,code code_lat,name,name_lat,country,pr_del,tid FROM pax_doc_countries WHERE tid>:tid ORDER BY code"||||1|"КОД"|681475086||800|800|800|1|1|1
"BALANCE_SETS"|"Настройка данных для центровки"|"SELECT id,airp,airline,flt_no,bort,balance_type,pr_denial FROM balance_sets WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 AND       adm.check_airp_access(airp,:SYS_user_id)<>0 ORDER BY airp,airline,flt_no,bort"||"BEGIN   :bort:=salons.check_bort(:bort);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp:=adm.check_airp_access(:airp,:airp_view,:SYS_user_id,1);   INSERT INTO balance_sets(id,airp,airline,flt_no,bort,balance_type,pr_denial)   VALUES(id__seq.nextval,:airp,:airline,:flt_no,:bort,:balance_type,:pr_denial);   hist.synchronize_history('balance_sets',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :bort:=salons.check_bort(:bort);   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :OLD_airp:=adm.check_airp_access(:OLD_airp,:OLD_airp_view,:SYS_user_id,2);   :airp:=adm.check_airp_access(:airp,:airp_view,:SYS_user_id,1);   UPDATE balance_sets   SET airline=:airline,airp=:airp,flt_no=:flt_no,bort=:bort,balance_type=:balance_type,pr_denial=:pr_denial   WHERE id=:OLD_id;   hist.synchronize_history('balance_sets',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp:=adm.check_airp_access(:OLD_airp,:OLD_airp_view,:SYS_user_id,2);   DELETE FROM balance_sets   WHERE id=:OLD_id;   hist.synchronize_history('balance_sets',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475088|572|573|573|573|0|1|0
"CKIN_REM_TYPES"|"Ремарки регистрации"|"SELECT id,code,code_lat,name,name_lat,grp_id,grp_id AS grp,is_iata,tid,pr_del FROM ckin_rem_types ORDER BY code"|"SELECT id,code,code_lat,name,name_lat,grp_id,grp_id AS grp,is_iata,tid,pr_del FROM ckin_rem_types WHERE tid>:tid ORDER BY code"|"DECLARE   vid ckin_rem_types.id%TYPE; BEGIN   UPDATE ckin_rem_types   SET code_lat=:code_lat, name=:name, name_lat=:name_lat, grp_id=:grp_id, is_iata=:is_iata,       tid=tid__seq.nextval, pr_del=0   WHERE code=:code AND pr_del<>0 RETURNING id INTO vid;   IF SQL%NOTFOUND THEN     INSERT INTO ckin_rem_types       (code,code_lat,name,name_lat,grp_id,is_iata,id,tid,pr_del)     VALUES       (:code,:code_lat,:name,:name_lat,:grp_id,:is_iata,id__seq.nextval,tid__seq.nextval,0)     RETURNING id INTO vid;   END IF;   hist.synchronize_history('ckin_rem_types',vid,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   UPDATE ckin_rem_types   SET code=:code, code_lat=:code_lat, name=:name, name_lat=:name_lat, grp_id=:grp_id,       is_iata=:is_iata, tid=tid__seq.nextval   WHERE id=:OLD_id;   hist.synchronize_history('ckin_rem_types',:id,:SYS_user_descr,:SYS_desk_code); END;"|"DECLARE   row ckin_rem_types%ROWTYPE; BEGIN   SELECT * INTO row FROM ckin_rem_types WHERE id=:OLD_id AND pr_del=0 FOR UPDATE;   DELETE FROM ckin_rem_types WHERE id=:OLD_id;   INSERT INTO ckin_rem_types     (code,code_lat,name,name_lat,grp_id,is_iata,id,tid,pr_del)   VALUES     (row.code,row.code_lat,row.name,row.name_lat,row.grp_id,row.is_iata,row.id,tid__seq.nextval,1);   hist.synchronize_history('ckin_rem_types',row.id,:SYS_user_descr,:SYS_desk_code); EXCEPTION   WHEN NO_DATA_FOUND THEN NULL; END;"|1|"КОД"|681808893||950|950|950|1|1|1
"COMP_REM_TYPES"|"Ремарки компоновки"|"SELECT id,code,code_lat,name,name_lat,pr_comp AS priority,tid,pr_del FROM comp_rem_types ORDER BY code"|"SELECT id,code,code_lat,name,name_lat,pr_comp AS priority,tid,pr_del FROM comp_rem_types WHERE tid>:tid ORDER BY code"|"DECLARE   vid comp_rem_types.id%TYPE; BEGIN   UPDATE comp_rem_types   SET code_lat=:code_lat, name=:name, name_lat=:name_lat, pr_comp=:priority,       tid=tid__seq.nextval, pr_del=0   WHERE code=:code AND pr_del<>0 RETURNING id INTO vid;   IF SQL%NOTFOUND THEN     INSERT INTO comp_rem_types       (code,code_lat,name,name_lat,pr_comp,id,tid,pr_del)     VALUES       (:code,:code_lat,:name,:name_lat,:priority,id__seq.nextval,tid__seq.nextval,0)     RETURNING id INTO vid;   END IF;   hist.synchronize_history('comp_rem_types',vid,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   UPDATE comp_rem_types   SET code=:code, code_lat=:code_lat, name=:name, name_lat=:name_lat,       pr_comp=:priority, tid=tid__seq.nextval   WHERE id=:OLD_id;   hist.synchronize_history('comp_rem_types',:id,:SYS_user_descr,:SYS_desk_code); END;"|"DECLARE   row comp_rem_types%ROWTYPE; BEGIN   SELECT * INTO row FROM comp_rem_types WHERE id=:OLD_id AND pr_del=0 FOR UPDATE;   DELETE FROM comp_rem_types WHERE id=:OLD_id;   INSERT INTO comp_rem_types     (code,code_lat,name,name_lat,pr_comp,id,tid,pr_del)   VALUES     (row.code,row.code_lat,row.name,row.name_lat,row.pr_comp,row.id,tid__seq.nextval,1);   hist.synchronize_history('comp_rem_types',row.id,:SYS_user_descr,:SYS_desk_code); EXCEPTION   WHEN NO_DATA_FOUND THEN NULL; END;"|1|"КОД"|681475093||845|845|845|1|1|1
"AIRLINE_PERS_WEIGHTS"|"Вес пассажиров для авиакомпаний"|"SELECT id, airline, craft, bort, class, subclass,        pr_summer AS season_id, pr_summer AS season_name,        TO_CHAR(first_date,'DD.MM') AS first_date,        TO_CHAR(last_date,'DD.MM') AS last_date,        male, female, child, infant FROM pers_weights WHERE airline IS NOT NULL AND       adm.check_airline_access(airline,:SYS_user_id)<>0 ORDER BY airline, craft, bort, class, subclass, season_id, id"||"DECLARE   vfirst_date DATE;   vlast_date DATE; BEGIN   adm.check_pers_weights(NULL,:airline,:craft,:bort,:class,:subclass,:season_id,:first_date,:last_date,vfirst_date,vlast_date,:SYS_desk_lang);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   adm.check_not_airp_user(:SYS_user_id,1);   INSERT INTO pers_weights(id,airline,craft,bort,class,subclass,     pr_summer,first_date,last_date,male,female,child,infant)   VALUES(id__seq.nextval,:airline,:craft,:bort,:class,:subclass,     :season_id,vfirst_date,vlast_date,:male,:female,:child,:infant);   hist.synchronize_history('pers_weights',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"DECLARE   vfirst_date DATE;   vlast_date DATE; BEGIN   adm.check_pers_weights(:OLD_id,:airline,:craft,:bort,:class,:subclass,:season_id,:first_date,:last_date,vfirst_date,vlast_date,:SYS_desk_lang);   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   adm.check_not_airp_user(:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   UPDATE pers_weights   SET airline=:airline, craft=:craft, bort=:bort, class=:class, subclass=:subclass,       pr_summer=:season_id, first_date=vfirst_date, last_date=vlast_date,       male=:male, female=:female, child=:child, infant=:infant   WHERE id=:OLD_id;   hist.synchronize_history('pers_weights',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   adm.check_not_airp_user(:SYS_user_id,2);   DELETE FROM pers_weights   WHERE id=:OLD_id;   hist.synchronize_history('pers_weights',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475095|739|740|740|740|0|1|0
"TYPEB_ADDR_OWNERS_SIRENA"|"Маршрутизация IATA-адресов (шлюзы Сирены)"|"SELECT addr, transport_addr, country, id FROM typeb_addr_owners WHERE transport_type='SIRENA_TYPEB' ORDER BY addr"||"BEGIN   adm.check_sita_addr(:addr, 'TYPEB_ADDR_OWNERS_SIRENA', 'ADDR', :SYS_desk_lang);   adm.check_canon_name(:transport_addr, 'TYPEB_ADDR_OWNERS_SIRENA', 'TRANSPORT_ADDR', :SYS_desk_lang);   INSERT INTO typeb_addr_owners(addr, transport_type, transport_addr, country, id)   VALUES(:addr, 'SIRENA_TYPEB', :transport_addr, :country, id__seq.nextval);   hist.synchronize_history('typeb_addr_owners',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_sita_addr(:addr,'TYPEB_ADDR_OWNERS_SIRENA','ADDR',:SYS_desk_lang);   adm.check_canon_name(:transport_addr, 'TYPEB_ADDR_OWNERS_SIRENA', 'TRANSPORT_ADDR', :SYS_desk_lang);   UPDATE typeb_addr_owners   SET addr=:addr, transport_addr=:transport_addr, country=:country   WHERE addr=:OLD_addr;   hist.synchronize_history('typeb_addr_owners',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM typeb_addr_owners WHERE addr=:OLD_addr;   hist.synchronize_history('typeb_addr_owners',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475098|535|535|535|535|0|1|0
"TYPEB_ADDR_OWNERS_OTHERS"|"Маршрутизация IATA-адресов (HTTP, BagMessage)"|"SELECT addr, transport_type, transport_addr, typeb_addr_owners.id FROM typeb_addr_owners,desks,desk_grp WHERE typeb_addr_owners.transport_addr=desks.code AND desks.grp_id=desk_grp.grp_id AND       transport_type IN ('BAG_MESSAGE', 'HTTP_TYPEB') AND       adm.check_airline_access(desk_grp.airline,:SYS_user_id)<>0 AND       adm.check_airp_access(desk_grp.airp,:SYS_user_id)<>0 ORDER BY addr"||"BEGIN   adm.check_sita_addr(:addr, 'TYPEB_ADDR_OWNERS_OTHERS', 'ADDR', :SYS_desk_lang);   :transport_addr:=adm.check_desk_access(:transport_addr,:SYS_user_id,1);   INSERT INTO typeb_addr_owners(addr, transport_type, transport_addr, id)   VALUES(:addr, :transport_type, :transport_addr, id__seq.nextval);   hist.synchronize_history('typeb_addr_owners',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_sita_addr(:addr, 'TYPEB_ADDR_OWNERS_OTHERS', 'ADDR', :SYS_desk_lang);   :OLD_transport_addr:=adm.check_desk_access(:OLD_transport_addr,:SYS_user_id,2);   :transport_addr:=adm.check_desk_access(:transport_addr,:SYS_user_id,1);   UPDATE typeb_addr_owners   SET addr=:addr, transport_type=:transport_type, transport_addr=:transport_addr   WHERE addr=:OLD_addr;   hist.synchronize_history('typeb_addr_owners',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM typeb_addr_owners WHERE addr=:OLD_addr;   hist.synchronize_history('typeb_addr_owners',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475101|535|535|535|535|0|1|0
"TYPEB_ADDR_TRANS_PARAMS"|"Параметры транспорта"|"SELECT addr, param_name, param_value, id FROM typeb_addr_trans_params WHERE addr=:addr ORDER BY param_name"||"BEGIN   adm.check_sita_addr(:addr, 'TYPEB_ADDR_TRANS_PARAMS', 'ADDR', :SYS_desk_lang);   INSERT INTO typeb_addr_trans_params(addr, param_name, param_value, id)   VALUES(:addr, :param_name, :param_value, id__seq.nextval);   hist.synchronize_history('typeb_addr_trans_params',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   adm.check_sita_addr(:addr, 'TYPEB_ADDR_TRANS_PARAMS', 'ADDR', :SYS_desk_lang);   UPDATE typeb_addr_trans_params   SET addr=:addr, param_name=:param_name, param_value=:param_value   WHERE id=:OLD_id;   hist.synchronize_history('typeb_addr_trans_params',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   DELETE FROM typeb_addr_trans_params WHERE id=:OLD_id;   hist.synchronize_history('typeb_addr_trans_params',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681475172|535|535|535|535|0|1|0
"BT_SET"|"Бланки багажных бирок"|"SELECT bt_set.id,bt_set.airline,flt_no,airp_dep,tag_types.code AS bt_code,        tag_types.name AS bt_name FROM tag_types,bt_set WHERE tag_types.code=bt_set.tag_type AND       (adm.check_airline_access(bt_set.airline,:SYS_user_id)<>0 OR bt_set.airline IS NULL) AND       (adm.check_airp_access(bt_set.airp_dep,:SYS_user_id)<>0 OR bt_set.airp_dep IS NULL) ORDER BY id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO bt_set(id,airline,flt_no,airp_dep,tag_type)   VALUES(id__seq.nextval,:airline,:flt_no,:airp_dep,:bt_code);   hist.synchronize_history('bt_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE bt_set   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,tag_type=:bt_code   WHERE id=:OLD_id;   hist.synchronize_history('bt_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM bt_set   WHERE id=:OLD_id;   hist.synchronize_history('bt_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681474967|750|760|760|760|0|1|0
"KIOSK_BP_SET"|"Бланки посадочных талонов для киосков"|"SELECT desk_bp_set.id,desk_grp_id,desk,desk_grp_id descr,        bp_types.code AS bp_code, bp_types.name AS bp_name FROM bp_types,desk_bp_set WHERE bp_types.code=desk_bp_set.bp_type AND       bp_types.op_type=desk_bp_set.op_type AND       desk_bp_set.op_type='PRINT_BP' AND       (adm.check_desk_view_access(desk,:SYS_user_id)<>0 OR desk IS NULL) AND       (adm.check_desk_grp_view_access(desk_grp_id,:SYS_user_id)<>0 OR desk_grp_id IS NULL) ORDER BY id"||"BEGIN   IF :desk_grp_id IS NOT NULL THEN     :desk_grp_id:=adm.check_desk_grp_id(:desk,:desk_grp_id);   END IF;   :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   :desk:=adm.check_desk_access(:desk,:SYS_user_id,1);   INSERT INTO desk_bp_set(id,desk_grp_id,desk,bp_type,op_type)   VALUES(id__seq.nextval,:desk_grp_id,:desk,:bp_code,'PRINT_BP');   hist.synchronize_history('desk_bp_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   :OLD_desk:=adm.check_desk_access(:OLD_desk,:SYS_user_id,2);   IF :desk_grp_id IS NOT NULL THEN     :desk_grp_id:=adm.check_desk_grp_id(:desk,:desk_grp_id);   END IF;   :desk_grp_id:=adm.check_desk_grp_access(:desk_grp_id,:SYS_user_id,1);   :desk:=adm.check_desk_access(:desk,:SYS_user_id,1);   UPDATE desk_bp_set   SET desk_grp_id=:desk_grp_id,desk=:desk,bp_type=:bp_code   WHERE id=:OLD_id;   hist.synchronize_history('desk_bp_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_desk_grp_id:=adm.check_desk_grp_access(:OLD_desk_grp_id,:SYS_user_id,2);   :OLD_desk:=adm.check_desk_access(:OLD_desk,:SYS_user_id,2);   DELETE FROM desk_bp_set   WHERE id=:OLD_id;   hist.synchronize_history('desk_bp_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681808878|750|760|760|760|0|1|0
"AIRLINE_BT_SET"|"Бланки багажных бирок а/к"|"SELECT bt_set.id,bt_set.airline,flt_no,airp_dep,tag_types.code AS bt_code,        tag_types.name AS bt_name FROM tag_types,bt_set WHERE tag_types.code=bt_set.tag_type AND bt_set.airline=:airline AND       (adm.check_airline_access(bt_set.airline,:SYS_user_id)<>0 OR bt_set.airline IS NULL) AND       (adm.check_airp_access(bt_set.airp_dep,:SYS_user_id)<>0 OR bt_set.airp_dep IS NULL) ORDER BY id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO bt_set(id,airline,flt_no,airp_dep,tag_type)   VALUES(id__seq.nextval,:airline,:flt_no,:airp_dep,:bt_code);   hist.synchronize_history('bt_set',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE bt_set   SET airline=:airline,flt_no=:flt_no,airp_dep=:airp_dep,tag_type=:bt_code   WHERE id=:OLD_id;   hist.synchronize_history('bt_set',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM bt_set   WHERE id=:OLD_id;   hist.synchronize_history('bt_set',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681474968|750|760|760|760|0|1|0
"BI_PRINT_RULES"|"Правила печати приглашений"|"SELECT rules.id, rules.airline, rules.brand_airline, rules.brand_code, brands.id AS brand_view, rules.fqt_airline, rules.fqt_tier_level,        rules.aircode, rules.rem_code, rules.class, rules.subclass, rules.rfisc, rules.print_type, rules.pr_denial FROM bi_print_rules rules, brands WHERE rules.brand_airline=brands.airline(+) AND       rules.brand_code=brands.code(+) AND       adm.check_airline_access(rules.airline,:SYS_user_id)<>0 ORDER BY rules.airline, rules.id"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   IF :brand_airline IS NOT NULL AND :airline<>:brand_airline THEN     system.raise_user_exception('MSG.BRAND_DOES_NOT_MEET_AIRLINE');   END IF;   INSERT INTO bi_print_rules(id, airline, brand_airline, brand_code, fqt_airline, fqt_tier_level, aircode, rem_code, class, subclass, rfisc, print_type, pr_denial)   VALUES(id__seq.nextval, :airline, :brand_airline, :brand_code, :fqt_airline, :fqt_tier_level, :aircode, :rem_code, :class, :subclass, :rfisc, :print_type, :pr_denial);   hist.synchronize_history('bi_print_rules',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   IF :brand_airline IS NOT NULL AND :airline<>:brand_airline THEN     system.raise_user_exception('MSG.BRAND_DOES_NOT_MEET_AIRLINE');   END IF;   UPDATE bi_print_rules   SET airline=:airline, brand_airline=:brand_airline, brand_code=:brand_code, fqt_airline=:fqt_airline, fqt_tier_level=:fqt_tier_level,       aircode=:aircode, rem_code=:rem_code, class=:class, subclass=:subclass, rfisc=:rfisc, print_type=:print_type, pr_denial=:pr_denial   WHERE id=:OLD_id;   hist.synchronize_history('bi_print_rules',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   DELETE FROM bi_print_rules   WHERE id=:OLD_id;   hist.synchronize_history('bi_print_rules',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681823024|737|738|738|738|0|1|0
"RFISC_RATES_SELF_CKIN"|"Применение услуг без учета бренда для саморегистрации"|"SELECT id, airline, airp_dep, airp_arv, craft, rfisc, rate, rate_cur FROM rfisc_rates_self_ckin WHERE adm.check_airline_access(airline,:SYS_user_id)<>0 AND       (adm.check_airp_access(airp_dep,:SYS_user_id)<>0 OR airp_dep IS NULL) ORDER BY airline, rfisc"||"BEGIN   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   INSERT INTO rfisc_rates_self_ckin(id, airline, airp_dep, airp_arv, craft, rfisc, rate, rate_cur)   VALUES(id__seq.nextval, :airline, :airp_dep, :airp_arv, :craft, :rfisc, :rate, :rate_cur);   hist.synchronize_history('rfisc_rates_self_ckin',id__seq.currval,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   :airline:=adm.check_airline_access(:airline,:airline_view,:SYS_user_id,1);   :airp_dep:=adm.check_airp_access(:airp_dep,:airp_dep_view,:SYS_user_id,1);   UPDATE rfisc_rates_self_ckin   SET airline=:airline, airp_dep=:airp_dep, airp_arv=:airp_arv, craft=:craft, rfisc=:rfisc, rate=:rate, rate_cur=:rate_cur   WHERE id=:OLD_id;   hist.synchronize_history('rfisc_rates_self_ckin',:id,:SYS_user_descr,:SYS_desk_code); END;"|"BEGIN   :OLD_airline:=adm.check_airline_access(:OLD_airline,:OLD_airline_view,:SYS_user_id,2);   :OLD_airp_dep:=adm.check_airp_access(:OLD_airp_dep,:OLD_airp_dep_view,:SYS_user_id,2);   DELETE FROM rfisc_rates_self_ckin   WHERE id=:OLD_id;   hist.synchronize_history('rfisc_rates_self_ckin',:OLD_id,:SYS_user_descr,:SYS_desk_code); END;"|1|"СИС"|681820950||203|203|203|0|1|0
"TRIP_BT"|"Бланки багажных бирок рейса"|"SELECT point_id,tag_types.code AS bt_code,        tag_types.name AS bt_name FROM tag_types,trip_bt WHERE tag_types.code=trip_bt.tag_type AND point_id=:point_id"||"INSERT INTO trip_bt(point_id,tag_type) VALUES(:point_id,:bt_code)"|"UPDATE trip_bt SET tag_type=:bt_code WHERE point_id=:OLD_point_id"|"DELETE FROM trip_bt WHERE point_id=:OLD_point_id"|1|"РЕЙ"|681474970|240|250|250|250|0|1|0
